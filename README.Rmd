---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# geodeterminants

<!-- badges: start -->
<!-- badges: end -->

The goal of geodeterminants is to take addresses and append SDOH(social determinants of health) data in a tibble format for each specific address. This data is collected from sources from PhenX for each variable and is cleaned, analyzed, and calculated, ready for use.  

## Installation

You can install the development version of geodeterminants from [GitHub](https://github.com/wchan05/geodeterminants) with:

``` r
# install.packages("pak")
pak::pak("wchan05/geodeterminants")
```

## Example

This is a basic example which shows you how to solve a common problem:

```{r example}
library(tibble)
library(geodeterminants)
library(tidyverse)
library(tidygeocoder)
library(tidycensus)
library(tigris)
library(sf)
library(readxl)

## basic example code
test_tib <- tibble(
  address = c(
   "15 Main Street Flemington, NJ 08822",
   "120 E Main St, Ramsey, MN 55303",
   "1315 S Glenstone Ave, Springfield, MO 65804",
   "401 W 14th St, Austin, TX 78701",
   "340 S Lemon Ave, Walnut, CA 91789",
   "25 Main St, Northampton, MA 01060",
   "Non existent Ave",
   "100 Jersey Ave, New Brunswick, NJ 08901",
   "17350 Woodward Ave, Detroit, MI 48203",
   "17350 Woodward Ave, Detroit, MI 48203",
   "17350 Woodward Ave, Detroit, MI 48203"),
 state = c("NJ", "MN", "MO", "TX", "CA", "MA", "PA", "NJ", "MI", "MI", "MI"),
 year = c(2022, 2023, NA, 2023, NA, 2023, 2022, 2022, NA, 1990, 2020))
 test_tib_with_SDOH <- get_geodeterminants(gd_tib = test_tib, gd_minority_group_code = "B03002_004", gd_comparison_group_code = "B03002_004", gd_minority_group_code_dhc = "P5_004N", gd_minority_group_code_sf1 = "P005004")
```

What is special about using `README.Rmd` instead of just `README.md`? You can include R chunks like so:

```{r cars}
summary(test_tib_with_SDOH)
```

You'll still need to render `README.Rmd` regularly, to keep `README.md` up-to-date. `devtools::build_readme()` is handy for this.

In that case, don't forget to commit and push the resulting figure files, so they display on GitHub and CRAN.
